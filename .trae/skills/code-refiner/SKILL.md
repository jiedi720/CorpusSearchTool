---
name: "code-refiner"
description: "优化代码质量，包括冗余清理、注释强化、依赖与文档更新。当用户需要清理无用代码、完善注释或更新项目依赖和文档时调用。"
---

# 代码优化器 (Code Refiner)

## 功能描述

该技能用于全面优化项目代码质量，主要包括以下三个核心功能：

### 1. 冗余清理
- 遍历项目目录，识别并删除未使用的冗余代码块
- 清理无效文件（如空文件、临时文件）
- 移除重复或错误的注释
- 优化代码结构，提高可读性

### 2. 注释强化
- 为所有代码添加高质量的中文注释
- 重写模糊不清的现有注释
- 确保注释清晰说明代码逻辑和功能
- 遵循统一的注释规范

### 3. 依赖与文档更新
- 分析项目实际引用的库，重新生成精简的 requirements.txt
- 剔除无用或过时的依赖
- 根据当前程序功能特性与架构，全面更新 README.md
- 确保文档与实际代码功能一致

## 使用场景

当遇到以下情况时，应调用该技能：
- 项目中存在大量未使用的代码或文件
- 代码注释不完整或难以理解
- requirements.txt 包含无用依赖
- README.md 与实际功能不符
- 需要提高代码的可维护性和可读性

## 执行流程

1. **代码分析**：遍历项目目录，分析代码结构和依赖关系
2. **冗余清理**：识别并删除无用代码块和文件
3. **注释优化**：添加或重写清晰的中文注释
4. **依赖更新**：重新生成精确的 requirements.txt
5. **文档更新**：全面更新 README.md
6. **结果验证**：确保代码可正常运行，依赖正确

## 输入输出示例

### 输入示例
```
请使用 code-refiner 技能优化我的项目代码
```

### 输出示例
```
✅ 代码优化完成！

已完成以下优化：
1. 清理了 5 个无效文件和 3 个未使用的代码块
2. 为 12 个函数添加了详细的中文注释
3. 更新了 requirements.txt，移除了 2 个无用依赖
4. 全面更新了 README.md，反映当前项目功能

项目代码质量已显著提升，可维护性和可读性得到改善。
```

## 注意事项

1. 在执行代码清理前，建议先备份项目
2. 确保对项目的修改符合团队的代码规范
3. 依赖更新后，建议运行测试确保项目正常运行
4. 注释应简洁明了，避免过度注释
5. README.md 更新应包括项目功能、安装步骤、使用方法等关键信息